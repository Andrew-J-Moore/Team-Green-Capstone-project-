<form class="example-container" [formGroup]="groupForm" (ngSubmit)="onSubmit()">
  <div *ngIf="groupType === 'course'">
    <mat-form-field>
      <mat-label>Group Type</mat-label>
      <mat-select formControlName="groupType">
        <mat-option
          *ngFor="let grpType of groupTypes"
          [value]="grpType"
          disabled
        >
          {{ grpType }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="groupForm.controls['groupType'].hasError('required')"
        >Please choose a group type</mat-error
      >
    </mat-form-field>
    <mat-form-field>
      <mat-label>Select Major</mat-label>
      <mat-select
        formControlName="majorControl"
        (selectionChange)="onMajorChanged($event)"
      >
        <mat-option>--</mat-option>
        <mat-option *ngFor="let major of majors" [value]="major">
          {{ major }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="groupForm.controls['majorControl'].hasError('required')"
        >Please choose a Major</mat-error
      >
    </mat-form-field>
    <!-- <button type="button" (click)="click()">click me</button> -->
    <!-- <div *ngIf="isCourseGroup">
          <div *ngFor="let courseGroup of courseGroupInfo">
            {{ courseGroup.title }}
          </div>
        </div> -->

    <mat-form-field>
      <mat-label>Title</mat-label>
      <mat-select
        formControlName="title"
        (selectionChange)="onTitleChanged($event)"
      >
        <mat-option>--</mat-option>
        <mat-option *ngFor="let v of courseGroupInfo" [value]="v.title">
          {{ v.title }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="groupForm.controls['title'].hasError('required')"
        >Please choose a Major</mat-error
      >
    </mat-form-field>

    <mat-form-field>
      <mat-label>Description</mat-label>
      <mat-select formControlName="description">
        <mat-option>--</mat-option>
        <mat-option
          *ngFor="let v of courseGroupInfo"
          [value]="v.description"
          disabled
        >
          {{ v.description }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="groupForm.controls['description'].hasError('required')"
        >Please choose a Major</mat-error
      >
    </mat-form-field>
  </div>
  <div *ngIf="groupType === 'custom'">
    <mat-form-field>
      <mat-label>Group Type</mat-label>
      <mat-select formControlName="groupType">
        <mat-option
          *ngFor="let grpType of groupTypes"
          [value]="grpType"
          disabled
        >
          {{ grpType }}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="groupForm.controls['groupType'].hasError('required')"
        >Please choose a group type</mat-error
      >
    </mat-form-field>

    <mat-form-field>
      <input matInput placeholder="Group Title" formControlName="title" />
      <mat-error *ngIf="groupForm.controls['title'].hasError('required')"
        >Please enter group title</mat-error
      >
    </mat-form-field>

    <mat-form-field>
      <textarea
        matInput
        placeholder="Group Description"
        formControlName="description"
      ></textarea>
      <mat-error *ngIf="groupForm.controls['description'].hasError('required')"
        >Please enter group description</mat-error
      >
    </mat-form-field>
  </div>

  <mat-form-field class="example-chip-list">
    <mat-chip-list #chipList aria-label="adding emails">
      <mat-chip
        *ngFor="let email of emails"
        [selectable]="selectable"
        [removable]="removable"
        (removed)="remove(email)"
      >
        {{ email }}
        <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
      </mat-chip>
      <input
        placeholder="Enter Emails"
        [matChipInputFor]="chipList"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
        [matChipInputAddOnBlur]="addOnBlur"
        (matChipInputTokenEnd)="add($event)"
      />
    </mat-chip-list>
    <mat-hint>Use comma or hit ENTER to enter multiple emails!</mat-hint>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Semester Term</mat-label>
    <mat-select formControlName="semesterTerm">
      <mat-option>--</mat-option>
      <mat-option *ngFor="let term of semesterTerm" [value]="term">
        {{ term }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="groupForm.controls['semesterTerm'].hasError('required')"
      >Please choose a Semester Term</mat-error
    >
  </mat-form-field>

  <mat-form-field>
    <mat-label>Semester Year</mat-label>
    <mat-select formControlName="semesterYear">
      <mat-option>--</mat-option>
      <mat-option *ngFor="let year of semesterYear" [value]="year">
        {{ year }}
      </mat-option>
    </mat-select>
    <mat-error *ngIf="groupForm.controls['semesterYear'].hasError('required')"
      >Please choose a Semester Year</mat-error
    >
  </mat-form-field>
  <mat-toolbar>
    <mat-toolbar-row>
      <span class="example-spacer"></span>
      <button mat-raised-button color="warn" (click)="cancel()">
        Cancel
      </button>
      &nbsp; &nbsp;
      <button type="submit" mat-raised-button class="primary">
        Create Group
      </button>
    </mat-toolbar-row>
  </mat-toolbar>
</form>
